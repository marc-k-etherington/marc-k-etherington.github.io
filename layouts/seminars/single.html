{{ define "main" }}

{{ partial "hero-banner.html" . }}

<h1>{{ .Title }}</h1>

<!-- Seminars Content -->
{{ .Content }}

<!-- Back to Top Button -->
<button class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">â†‘ Top</button>

<!-- Floating Social Media -->
<div class="social-float-compact">
  <a href="www.linkedin.com/in/marc-kenneth-etherington-32aa5876" target="_blank" rel="noopener" title="LinkedIn">
    <img src="/images/LinkedIn.jpg" alt="LinkedIn" class="social-icon">
  </a>
  <a href="https://bsky.app/profile/mketherington.bsky.social" target="_blank" rel="noopener" title="Bluesky">
    <img src="/images/BlueSky_Logo.png" alt="Bluesky" class="social-icon">
  </a>
  <a href="https://www.researchgate.net/profile/Marc-Etherington?ev=hdr_xprf" target="_blank" rel="noopener" title="ResearchGate">
    <img src="/images/Researchgate.png" alt="ResearchGate" class="social-icon">
  </a>
  <a href="https://scholar.google.co.uk/citations?user=3dgABIQAAAAJ&hl=en" target="_blank" rel="noopener" title="Google Scholar">
    <img src="/images/Google_Scholar.png" alt="Google Scholar" class="social-icon">
  </a>
</div>

<script>
// Seminar filtering functionality
function filterSeminars(category, button) {
  const seminars = document.querySelectorAll('.alert-danger, .alert-secondary');
  const buttons = document.querySelectorAll('.filter-btn');
  
  // Update active button
  buttons.forEach(btn => btn.classList.remove('active'));
  button.classList.add('active');
  
  // Show/hide based on category
  seminars.forEach(seminar => {
    const isInvited = seminar.classList.contains('alert-danger');
    const isContributed = seminar.classList.contains('alert-secondary');
    const text = seminar.textContent;
    const isInternational = !text.includes('(UK)');
    
    let show = false;
    
    if (category === 'all') {
      show = true;
    } else if (category === 'invited' && isInvited) {
      show = true;
    } else if (category === 'contributed' && isContributed) {
      show = true;
    } else if (category === 'international' && isInternational) {
      show = true;
    }
    
    seminar.style.display = show ? 'block' : 'none';
  });
  
  // Hide/show year headers
  const years = document.querySelectorAll('h3');
  years.forEach(year => {
    let next = year.nextElementSibling;
    let anyVisible = false;
    
    while (next && next.tagName !== 'H3') {
      if ((next.classList.contains('alert-danger') || next.classList.contains('alert-secondary')) && 
          next.style.display !== 'none') {
        anyVisible = true;
        break;
      }
      next = next.nextElementSibling;
    }
    
    year.style.display = anyVisible ? 'block' : 'none';
  });
}
</script>

{{ end }}
